(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab01892"],{"0746":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("83fc");const{logger:o}=a("8a4e"),c=function(e){let t="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;for(let o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*s));return o.log(t),t};var l=a("41cb"),n=a("8a4e"),i=a("2b20");class d{async getQuests(){const e=await i["a"].get("api/quests/");s["a"].quests=e.data}async createQuest(e){e.accessCode=c(5);const t=await i["a"].post("api/quests/",e);return this.getQuests(),s["a"].quests.push(t.data),s["a"].activeQuest=t.data,n["logger"].log(t.data,s["a"].activeQuest,"setting active quest"),t.data.id}async questJoinable(e,t){const a={isJoinable:t},s=await i["a"].put("api/quests/"+e,a);n["logger"].log(s.data,a)}async questActive(e,t){const a={isActive:t},s=await i["a"].put("api/quests/"+e,a);n["logger"].log(s.data,a)}async joinQuest(e){await this.getQuests();const t=s["a"].quests.filter(t=>t.accessCode===e.accessCode);if(n["logger"].log(t),!0!==t[0].isJoinable)return window.alert("This Quest is not Joinable");{const a={questId:t[0].id,accountId:e.accountId};n["logger"].log(t),await i["a"].post("api/userquests",a);const o=await i["a"].get("api/quests/"+t[0].id+"/objectives");s["a"].markers=o.data,n["logger"].log("quest to pull obj",o.data),s["a"].activeQuest=t[0],l["a"].push({name:"MapPage",params:{questid:t[0].id}}),this.formatMarkerInfo()}}formatMarkerInfo(){return s["a"].markers.forEach(e=>{const t={};t.lat=e.location.lat,t.lng=e.location.lng,t.address=e.location.address,t.title=e.title,t.objectiveId=e.id,s["a"].markerInfo.push(t),n["logger"].log("this is the formatted",s["a"].markerInfo)}),s["a"].markerInfo}}const r=new d},2296:function(e,t,a){},"78a7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const o={class:"container-fluid background"},c={class:"row "},l={class:"col home flex-grow-1 d-flex flex-column align-items-center justify-content-center"},n=Object(s["h"])("button",{class:"customBtn text-light p-3 rounded d-flex align-items-center btn btn-outline","data-toggle":"modal","data-target":"#CreateTitleModal"}," Create Quest ",-1),i={class:"modal fade",id:"CreateTitleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},d={class:"modal-dialog modal-dialog-centered",role:"document"},r={class:"modal-content"},u=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title text-dark",id:"exampleModalLongTitle"}," Forge a Quest "),Object(s["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),b={class:"modal-body"},m={class:"form-group"},h=Object(s["h"])("label",{for:""},null,-1),g=Object(s["h"])("button",{type:"submit",class:"btn btn-primary"}," Forge! ",-1),p=Object(s["h"])("div",{class:"modal-footer"},null,-1),j={class:"row"},f={class:"col home flex-grow-1 d-flex flex-column align-items-center justify-content-center"},O=Object(s["h"])("button",{class:" customBtn text-light p-3 rounded d-flex align-items-center btn btn-outline","data-toggle":"modal","data-target":"#JoinQuestModal"}," Join Quest ",-1),v={class:"modal fade",id:"JoinQuestModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},Q={class:"modal-dialog modal-dialog-centered",role:"document"},y={class:"modal-content"},w=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title text-dark",id:"exampleModalLongTitle"}," Join a Quest "),Object(s["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),x={class:"modal-body"},q={class:"form-group"},I=Object(s["h"])("label",{for:""},null,-1),M=Object(s["h"])("button",{type:"submit",class:"btn btn-primary"}," Join! ",-1),C=Object(s["h"])("div",{class:"modal-footer"},null,-1);function k(e,t,a,k,J,T){return Object(s["r"])(),Object(s["e"])("div",o,[Object(s["h"])("div",c,[Object(s["h"])("div",l,[n,Object(s["h"])("div",i,[Object(s["h"])("div",d,[Object(s["h"])("div",r,[u,Object(s["h"])("div",b,[Object(s["h"])("form",{type:"submit",onSubmit:t[2]||(t[2]=Object(s["H"])((...e)=>k.createQuest&&k.createQuest(...e),["prevent"]))},[Object(s["h"])("div",m,[h,Object(s["G"])(Object(s["h"])("input",{type:"text",class:"form-control",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=e=>k.state.newQuest.title=e),"aria-describedby":"helpId",placeholder:"Quest Title"},null,512),[[s["D"],k.state.newQuest.title]])]),g],32)]),p])])])])]),Object(s["h"])("div",j,[Object(s["h"])("div",f,[O,Object(s["h"])("div",v,[Object(s["h"])("div",Q,[Object(s["h"])("div",y,[w,Object(s["h"])("div",x,[Object(s["h"])("form",{type:"submit",onSubmit:t[4]||(t[4]=Object(s["H"])((...e)=>k.joinQuest&&k.joinQuest(...e),["prevent"]))},[Object(s["h"])("div",q,[I,Object(s["G"])(Object(s["h"])("input",{type:"text",class:"form-control",name:"",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>k.state.codeInput.accessCode=e),"aria-describedby":"helpId",placeholder:"Quest Code"},null,512),[[s["D"],k.state.codeInput.accessCode]])]),M],32)]),C])])])])])])}var J=a("0746"),T=a("8a4e"),A=a("41cb"),H=a("1157"),L=a.n(H),B=a("83fc"),D={name:"Home",setup(){const e=Object(s["v"])({account:Object(s["c"])(()=>B["a"].account),user:Object(s["c"])(()=>B["a"].user),newQuest:{},codeInput:{accountId:B["a"].account.id}});return{state:e,async createQuest(){try{const t=await J["a"].createQuest(e.newQuest);L()("#CreateTitleModal").modal("hide"),A["a"].push({name:"AddLocationPage",params:{questid:t}})}catch(t){T["logger"].error(t)}},async joinQuest(){try{B["a"].account.id=e.user.id,await J["a"].joinQuest(e.codeInput),L()("#JoinQuestModal").modal("hide")}catch(t){T["logger"].error(t)}}}}};a("c475");D.render=k;t["default"]=D},c475:function(e,t,a){"use strict";a("2296")}}]);