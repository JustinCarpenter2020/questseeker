(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96b85fba"],{"0e29":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c=Object(o["I"])("data-v-249ac7b3");Object(o["u"])("data-v-249ac7b3");const l={class:"AddLocationPage container-fluid font"},s={class:"AddLocationFormSection row"},i={class:"col d-flex justify-content-center"},d={class:"form-group mx-sm-3 mb-2 my-4"},n={class:"modal fade",id:"ObjectiveCreationModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},r={class:"modal-dialog",role:"document"},b={class:"modal-content"},m=Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title",id:"exampleModalLongTitle"}," Create Quest Event "),Object(o["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(o["h"])("span",{"aria-hidden":"true"},"Ã—")])],-1),u={class:"modal-body"},j=Object(o["h"])("button",{type:"submit",class:"btn btn-primary"}," Create Objective ",-1),p=Object(o["h"])("div",{class:"modal-footer"},null,-1),O={class:"MapSection mapSection row mx-3",id:"AddLocationMap"},v={class:"col"},g={class:"row"},h={class:"col d-flex justify-content-end my-5"},y=Object(o["h"])("button",{class:"btn btn-primary"}," Review Objectives ",-1);Object(o["s"])();const f=c((e,t,a,f,w,L)=>{const k=Object(o["y"])("HostMap"),x=Object(o["y"])("router-link");return Object(o["r"])(),Object(o["e"])("div",l,[Object(o["h"])("div",s,[Object(o["h"])("div",i,[Object(o["h"])("form",{class:"form-inline",onSubmit:t[5]||(t[5]=Object(o["H"])((...e)=>f.createObjective&&f.createObjective(...e),["prevent"]))},[Object(o["h"])("div",d,[Object(o["G"])(Object(o["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>f.state.location.value=e),id:"inputPassword2",placeholder:"Add Location"},null,512),[[o["D"],f.state.location.value]])]),Object(o["h"])("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>f.findLocation&&f.findLocation(...e)),class:"btn btn-primary mb-2 my-4","data-toggle":"modal","data-target":"#ObjectiveCreationModal"}," + "),Object(o["h"])("div",n,[Object(o["h"])("div",r,[Object(o["h"])("div",b,[m,Object(o["h"])("div",u,[Object(o["G"])(Object(o["h"])("input",{type:"text",class:"form-control my-4",placeholder:"Objective Title","onUpdate:modelValue":t[3]||(t[3]=e=>f.state.objective.title=e)},null,512),[[o["D"],f.state.objective.title]]),Object(o["G"])(Object(o["h"])("input",{type:"text",class:"form-control my-4",placeholder:"Objective Description","onUpdate:modelValue":t[4]||(t[4]=e=>f.state.objective.body=e)},null,512),[[o["D"],f.state.objective.body]]),j]),p])])])],32)])]),Object(o["h"])("div",O,[Object(o["h"])("div",v,[Object(o["h"])(k,{"disable-u-i":!1,zoom:10,"map-type":"roadmap",center:{lat:43.615,lng:-116.2023},markers:f.state.markers,"map-did-load":f.handleMapDidLoad},null,8,["center","markers","map-did-load"])])]),Object(o["h"])("div",g,[Object(o["h"])("div",h,[Object(o["h"])(x,{to:{name:"ObjectiveReviewPage",params:{questid:f.state.questId}}},{default:c(()=>[y]),_:1},8,["to"])])])])});var w=a("8a4e"),L=a("83fc"),k=a("2b20");class x{async createObjective(e,t){e.questId=t,e.location=L["a"].currentLocation.position,e.location.address=L["a"].currentLocation.address,w["logger"].log(e);const a=await k["a"].post("api/objectives",e);w["logger"].log(a.data)}}const M=new x;var C=a("1157"),q=a.n(C),D=a("6c02"),A={name:"AddLocationPage",setup(){const e=Object(D["c"])(),t=Object(o["v"])({markers:[],objective:{},location:{},result:{},questId:e.params.questid});let a=null;const c=e=>{t.markers=[...t.markers,{...e.position,title:e.address}],w["logger"].log("markers",t.markers),w["logger"].log("markers",e),L["a"].currentLocation=e},l=()=>{a.geocode({address:t.location.value},(e,a)=>{"OK"!==a?window.alert("No Result"):(w["logger"].log(e),t.result={position:e[0].geometry.location.toJSON(),address:e[0].formatted_address},c(t.result),w["logger"].log(t.result))})},s=(e,t)=>{w["logger"].log("loaded"),w["logger"].log("map",e),w["logger"].log("services",t),a=new t.Geocoder};return{handleMapDidLoad:s,findLocation:l,state:t,addLocation:c,async createObjective(){try{await M.createObjective(t.objective,e.params.questid),L["a"].currentLocation={},q()("#ObjectiveCreationModal").modal("hide"),t.location={},t.objective={}}catch(a){w["logger"].error(a)}}}},components:{}};a("9ca4");A.render=f,A.__scopeId="data-v-249ac7b3";t["default"]=A},"13d5":function(e,t,a){},"9ca4":function(e,t,a){"use strict";a("13d5")}}]);